// This is a mock service that simulates fetching news from thesun.co.uk
// In a real app, you would use fetch or axios to get data from an API

// Mock data based on The Sun content
export const mockNews = [
  {
    id: 1,
    title: "Prince Harry and Meghan Markle make surprise appearance at charity event",
    category: "Royal",
    timestamp: "2 hours ago",
    imageUrl: "https://i.imgur.com/ZLdnUOH.jpg",
    content:
      'Prince Harry and Meghan Markle made a surprise appearance at a charity event in Los Angeles on Tuesday, marking their first public outing since the release of their controversial documentary. The Duke and Duchess of Sussex were all smiles as they arrived at the venue, with Meghan stunning in a cream-colored dress while Harry opted for a navy blue suit.\n\nThe couple, who stepped down as senior royals in 2020, spent nearly two hours at the event, which was organized to raise funds for children\'s education in underprivileged communities. They were seen mingling with guests and engaging in deep conversations about the cause.\n\n"They were incredibly down-to-earth and genuinely interested in the work we\'re doing," said one of the organizers, who wished to remain anonymous. "It wasn\'t just a photo opportunity for them. They asked thoughtful questions and shared their own insights on how to make a meaningful impact."\n\nThis appearance comes amid reports of ongoing tensions with the royal family, particularly following the release of their Netflix series and Harry\'s memoir, "Spare." However, sources close to the couple insist they are focused on their charitable work and building their new life in California with their two children, Archie and Lilibet.',
  },
  {
    id: 2,
    title: "Manchester United set to sign new striker in January transfer window",
    category: "Football",
    timestamp: "5 hours ago",
    imageUrl: "https://i.imgur.com/JaCBiCp.jpg",
    content:
      'Manchester United are reportedly closing in on a deal to sign a new striker in the January transfer window, according to sources close to the club. The Red Devils have been struggling for goals this season and manager Erik ten Hag is keen to bolster his attacking options.\n\nThe identity of the target remains undisclosed, but insiders suggest it could be a high-profile name from one of Europe\'s top leagues. The fee is expected to be in the region of £60 million, which would make it one of the most expensive January transfers in Premier League history.\n\n"The club is working tirelessly behind the scenes to get this deal over the line," said a source familiar with the negotiations. "Ten Hag has identified specific qualities he wants in a forward, and the board is backing him fully."\n\nUnited\'s current forwards have underperformed this season, with injuries and poor form affecting their output. The new signing would be expected to hit the ground running and help the team secure a top-four finish, which is crucial for their financial projections.\n\nFans have reacted positively to the rumors, with many taking to social media to express their excitement about the potential new arrival. "We desperately need a clinical finisher," wrote one supporter on Twitter. "If this goes through, it could transform our season."',
  },
  {
    id: 3,
    title: "Celebrity chef reveals secret to perfect Sunday roast",
    category: "Food",
    timestamp: "Yesterday",
    imageUrl: "https://i.imgur.com/7BjQIEE.jpg",
    content:
      'Celebrity chef Jamie Oliver has shared his secret to creating the perfect Sunday roast, and it\'s simpler than you might think. The popular TV cook and restaurateur revealed that the key lies in the preparation and timing rather than complicated techniques or exotic ingredients.\n\n"The perfect roast is all about respecting the basics," Oliver explained during a recent interview. "Quality ingredients, proper seasoning, and most importantly, giving yourself enough time. That\'s where most people go wrong – they rush."\n\nAccording to Oliver, the ideal roast potato – often considered the highlight of any Sunday dinner – requires par-boiling for exactly 10 minutes before roasting in hot oil or fat. "The rough edges from the par-boiling create that perfect crispy exterior," he said.\n\nFor the meat, whether it\'s beef, chicken, or lamb, Oliver recommends bringing it to room temperature before cooking and always allowing it to rest afterward. "The resting is non-negotiable. Skip that step, and you\'ll lose all those beautiful juices when you cut into it."\n\nThe chef also emphasized the importance of homemade gravy using the meat drippings, calling store-bought versions "a missed opportunity for flavor." His final tip was to add a unexpected element to traditional vegetables, such as a drizzle of honey on carrots or a sprinkle of lemon zest on peas.\n\n"These little touches elevate the whole meal without complicating things," he said. "Sunday roast should be special, but it shouldn\'t be stressful."',
  },
  {
    id: 4,
    title: "UK weather: Heatwave expected to hit Britain next week",
    category: "Weather",
    timestamp: "3 hours ago",
    imageUrl: "https://i.imgur.com/JfVDTLs.jpg",
    content:
      'Britain is bracing for a sudden heatwave next week as meteorologists predict temperatures could soar to 30°C in some parts of the country. The unexpected hot spell comes after weeks of unsettled weather and is likely to last for at least five days, according to the Met Office.\n\n"We\'re looking at a significant change in our weather pattern starting Monday," said Met Office chief meteorologist Dr. Sarah Thompson. "A high-pressure system moving in from the Azores will bring hot air from North Africa and the Mediterranean, resulting in temperatures well above the seasonal average."\n\nThe southeast is expected to experience the highest temperatures, with London potentially reaching 32°C by Wednesday. Even Scotland and Northern Ireland will see unusually warm conditions, with forecasts suggesting 25-27°C for Edinburgh and Belfast.\n\nHealth authorities have issued warnings, particularly for vulnerable groups such as the elderly and those with pre-existing medical conditions. "This sudden rise in temperature can be dangerous, especially coming so late in the season when people have acclimatized to cooler conditions," said Dr. James Roberts from Public Health England.\n\nWater companies are also preparing for increased demand, with some already urging customers to use water wisely. "During the last heatwave, we saw consumption increase by 40% in some areas," said a spokesperson for Thames Water. "We\'re asking people to be mindful of their usage, particularly with garden watering."\n\nThe heatwave is expected to break by the following weekend, with thunderstorms likely as the hot air mass clashes with cooler Atlantic systems.',
  },
  {
    id: 5,
    title: "New study reveals surprising health benefits of chocolate",
    category: "Health",
    timestamp: "1 day ago",
    imageUrl: "https://i.imgur.com/QVZLMGj.jpg",
    content:
      'Chocolate lovers have reason to celebrate as a new study published in the Journal of Nutritional Science reveals surprising health benefits associated with regular consumption of dark chocolate. The research, conducted over a five-year period with more than 2,000 participants, found that those who consumed a moderate amount of dark chocolate (70% cocoa or higher) several times a week showed significant improvements in various health markers.\n\n"We observed a 15% reduction in inflammatory markers and a notable improvement in gut microbiome diversity among the chocolate-consuming group," explained lead researcher Dr. Elena Rodriguez from King\'s College London. "These findings were consistent even when controlling for other dietary and lifestyle factors."\n\nPerhaps most surprisingly, the study found that participants who ate dark chocolate regularly had better stress management capabilities, with lower cortisol levels during high-pressure situations. This builds on previous research suggesting that compounds in cocoa can influence mood and cognitive function.\n\n"The flavanols in dark chocolate appear to have a direct effect on brain function," said Dr. Rodriguez. "We\'re particularly interested in the potential applications for managing stress-related conditions and possibly even certain aspects of cognitive decline."\n\nHowever, the researchers emphasized that the benefits were specifically linked to dark chocolate with minimal added sugar and that milk chocolate did not show the same effects. They also cautioned that chocolate should be consumed in moderation as part of a balanced diet.\n\n"We\'re talking about approximately 20-30 grams per day, a couple of squares of a chocolate bar, not entire bars," clarified Dr. Rodriguez. "And the higher the cocoa content, the better."\n\nThe study adds to a growing body of evidence suggesting that certain compounds in cocoa may have significant health benefits, challenging the traditional view of chocolate as merely an indulgence.',
  },
]

export const fetchLatestNews = async () => {
  // Simulate network request
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve(mockNews)
    }, 1000)
  })
}

export const fetchNewsByCategory = async (category) => {
  // Simulate network request
  return new Promise((resolve) => {
    setTimeout(() => {
      if (category === "all") {
        resolve(mockNews)
      } else {
        // Filter by category (case insensitive)
        const filteredNews = mockNews.filter((item) => item.category.toLowerCase() === category.toLowerCase())

        // If no news in that category, return all news
        resolve(filteredNews.length > 0 ? filteredNews : mockNews)
      }
    }, 800)
  })
}

export const fetchArticleById = async (id) => {
  // Simulate network request
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      const article = mockNews.find((item) => item.id === id)
      if (article) {
        resolve(article)
      } else {
        reject(new Error("Article not found"))
      }
    }, 500)
  })
}

export const searchNews = async (query) => {
  // Simulate network request
  return new Promise((resolve) => {
    setTimeout(() => {
      if (!query) {
        resolve([])
        return
      }

      const lowerCaseQuery = query.toLowerCase()
      const results = mockNews.filter(
        (item) =>
          item.title.toLowerCase().includes(lowerCaseQuery) ||
          item.content.toLowerCase().includes(lowerCaseQuery) ||
          item.category.toLowerCase().includes(lowerCaseQuery),
      )

      resolve(results)
    }, 1000)
  })
}

